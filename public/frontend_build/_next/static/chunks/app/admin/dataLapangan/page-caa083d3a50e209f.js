(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{1469:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{default:function(){return o},getImageProps:function(){return i}});let n=t(8229),r=t(8883),l=t(3063),s=n._(t(1193));function i(e){let{props:a}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let o=l.Image},7925:(e,a,t)=>{Promise.resolve().then(t.bind(t,9356))},9356:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var n=t(5155),r=t(2115),l=t(1469),s=t.n(l);function i(e){let{lapangan:a,onClose:t,onSave:l}=e,[i,o]=(0,r.useState)(a),[d,c]=(0,r.useState)(a.foto||""),[p,u]=(0,r.useState)(null),m=e=>{let{name:a,value:t}=e.target;o(e=>({...e,[a]:"harga"===a&&parseFloat(t)||t}))};return(0,n.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-md w-full max-w-md shadow-lg max-h-[90vh] overflow-y-auto",children:[(0,n.jsx)("h2",{className:"text-center text-xl font-bold text-gray-800 mb-4",children:"Edit Lapangan"}),d&&(0,n.jsx)("div",{className:"mb-4 w-full aspect-video relative",children:(0,n.jsx)(s(),{src:d,alt:"Preview Lapangan",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"},className:"rounded-md",onError:()=>{console.error("Gagal memuat preview gambar:",d),c("")}})}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a={...i};if("string"==typeof a.harga){let e=parseFloat(a.harga);a.harga=isNaN(e)?0:e}l(a,p)},className:"space-y-3",children:[(0,n.jsx)("input",{type:"text",name:"nama",value:i.nama,onChange:m,className:"w-full border px-3 py-2 rounded",placeholder:"Nama Lapangan",required:!0}),(0,n.jsx)("input",{type:"text",name:"harga",value:i.harga.toString(),onChange:m,className:"w-full border px-3 py-2 rounded",placeholder:"Harga",required:!0}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&(c(URL.createObjectURL(t)),u(t))},className:"w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,n.jsx)("textarea",{name:"keterangan",value:i.keterangan,onChange:m,className:"w-full border px-3 py-2 rounded",rows:3,placeholder:"Keterangan",required:!0}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 mt-5",children:[(0,n.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded hover:bg-gray-100",children:"Tutup"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Simpan"})]})]})]})})}let o=[{id:1,nama:"Lapangan A Futsal",harga:15e4,foto:"/placeholder-lapangan.jpg",keterangan:"Indoor, sintetis",tipe:"Futsal",status:"Tersedia"},{id:2,nama:"Lapangan B Badminton",harga:75e3,foto:"/placeholder-lapangan.jpg",keterangan:"Indoor, karpet",tipe:"Badminton",status:"Perbaikan"}];function d(){let[e,a]=(0,r.useState)(o),[t,l]=(0,r.useState)(null),[s,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{d(!0);try{setTimeout(()=>{a(o),d(!1)},1e3)}catch(e){console.error("Error fetching lapangans:",e),d(!1)}})()},[]);let c=e=>{l(e)},p=async(t,n)=>{console.log("Data yang akan disimpan:",t),n&&console.log("File yang akan diupload:",n.name);try{a(e.map(e=>e.id===t.id?t:e)),l(null),console.log("Data berhasil disimpan (simulasi)")}catch(e){console.error("Error saving lapangan:",e)}},u=async t=>{if(confirm("Apakah Anda yakin ingin menghapus lapangan ini?")){console.log("Menghapus lapangan dengan ID:",t);try{a(e.filter(e=>e.id!==t)),console.log("Data berhasil dihapus (simulasi)")}catch(e){console.error("Error deleting lapangan:",e)}}};return s?(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading data lapangan..."}):(0,n.jsxs)("div",{className:"container mx-auto p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Data Lapangan"}),(0,n.jsx)("div",{className:"overflow-x-auto shadow-md rounded-lg",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Harga"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Keterangan"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.nama}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Rp ",Number(e.harga).toLocaleString("id-ID")]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:e.keterangan}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,n.jsx)("button",{onClick:()=>c(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>u(e.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},e.id))})]})}),t&&(0,n.jsx)(i,{lapangan:t,onClose:()=>l(null),onSave:p})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[63,441,684,358],()=>a(7925)),_N_E=e.O()}]);